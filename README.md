# mprpc
# 项目描述：
该项目旨在构建一个分布式RPC网络通信系统，以实现在分布式环境中不同节点之间的远程过程调用。我选择了muduo库作为网络通信框架，因为它是一个高性能的C++网络库，提供了异步I/O、事件驱动和多线程支持，适合构建高效的网络通信。protobuf被用于数据序列化，因为它可以将结构化数据转换为紧凑的二进制格式，提高了网络传输效率。Zookeeper则用于服务发现和管理，确保服务的可用性和负载均衡。
# Muduo库：
Muduo库是一个跨平台的C++网络库，主要用于支持高并发的多线程网络编程。它提供了事件驱动的异步编程模型，内部使用Reacter模式来处理I/O事件，包括TCP/UDP套接字、定时器、事件循环等功能，使得我们能够实现高性能的异步网络通信。通过muduo库，我们能够有效地管理网络连接、处理请求和响应、同时避免了阻塞式的网络通信。
# ProtoBuf：
在项目中，protobuf被用于定义通信协议和数据结构。我们定义了请求和响应的消息格式，以及其他需要传输的数据。protobuf自动生成的代码帮助我们将结构化数据序列化为二进制格式，从而在网洛上传输。使我们能够跨不同编程语言实现的节点进行数据传递，保证数据的一致性和高效性。
# Zookeeper的服务管理：
通过使用Zookeeper来进行服务的注册、发现和负载均衡。每个节点启动时，将自己注册到zookeeper上，这样可以使其他节点也可以发现它。同时，我们可以利用zookeeper的节点监听功能来监控节点的状态变化。为每个服务节点创建临时节点，当节点失效时，相应的临时节点会自动删除。其他节点通过监听这些临时节点的状态变化事件来感知节点是否失效。从而实现基本的故障检测和恢复机制，有助于确保服务的高可用性。
# 如何进行可靠的网络通信：
muduo库通过异步I/O和事件驱动的方式实现了可靠的网络通信。它可以处理并发连接，管理TCP/UDP套接字的读写，以及处理各种网络事件，如连接建立、数据接收等。这样，我们能够在分布式环境中实现高性能的网络通信，同时避免了因为阻塞而导致的性能问题。
# 为什么使用protobuf，而不是Json？
1. 序列化大小：由于protobuf使用二进制编码，json使用文本编码，json在表示数据时会包含更多的字符和格式信息，所以protobuf生成的序列化数据通常比json数据更小
2. 解析速度：由于protobuf数据是二进制的，所以解析过程更高效。json数据需要解析器逐字符分析和处理
3. 支持数据类型：protobuf和json都支持数据类型，如整数、浮点数、字符串等，但是portobuf还支持更复杂的数据类型，如嵌套消息和枚举类型。
4. 性能：由于protobuf的序列化小、解析速度快，它在高性能场景下通常比json更具优势。特别是在网络传输和高负载的分布式系统中。
5. 扩展性：protobuf支持在消息中添加新字段而不会破坏已有的代码，这在软件升级和扩展方面更灵活。
6. 应用场景：protobuf适用于需要高性能和数据体积较小的场景，如分布式系统，通信协议等。json适用于许多场景，尤其是在Web开发中，因为它易于阅读、编写和调试。
